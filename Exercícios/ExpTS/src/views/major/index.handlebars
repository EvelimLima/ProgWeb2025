<!-- view/major/index.handlebars 
  Esta é a página principal para listar cursos.
  Ela utiliza Bootstrap para estilização e Handlebars para renderização dinâmica.
layouts/main > Importa o CSS do Bootstrap e ícones 
-->

<div class="container mt-4"> <!-- Adiciona margem no topo e container para centralizar -->
  <div class="d-flex justify-content-between align-items-center mb-4 p-3 bg-light rounded"> <!-- Fundo e bordas arredondadas -->
    <h1 class="mb-0">Lista de Cursos</h1>
    <a href="/major/create" class="btn btn-outline-secondary">
      <i class="bi bi-plus-lg me-1"></i> 
    </a>
  </div>

  <div class="table-responsive border rounded p-1"> <!-- borda e padding extra -->
    <table class="table table-hover align-middle mb-0">
      <thead class="table-light">
 
        <tr>
          <th scope="col">Código</th>
          <th scope="col">Nome</th>
          <th scope="col" class="text-end">Ações</th>
        </tr>
      </thead> 


        {{#each majors}}                            
        <tr>
          <td>{{this.code}}</td>
          <td>{{this.name}}</td>
          <td class="text-end">
            <div class="btn-group btn-group-sm" role="group">
              <a href="/major/read/{{this.id}}" class="btn btn-outline-info">
                <i class="bi bi-eye-fill"></i>
              </a>
              <a href="/major/update/{{this.id}}" class="btn btn-outline-warning">
                <i class="bi bi-pencil-square"></i>
              </a>


              <button 
              type="button" 
              class="btn btn-outline-danger btn-sm" 
              data-bs-toggle="modal" 
              data-bs-target="#confirmModal"
              data-id="{{this.id}}" 
              data-name="{{this.name}}">
              <i class="bi bi-trash-fill"></i>
            </button>
            </div>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</div>

<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirmar deleção</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        Deseja mesmo apagar o curso <strong id="modalMajorName"></strong>?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button id="confirmDeleteBtn" type="button" class="btn btn-primary">Sim, apagar</button>
      </div>
    </div>
  </div>
</div>

